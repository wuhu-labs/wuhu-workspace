---
title: macOS app redesign
status: closed
---

## Context & Intent

The current WuhuApp is a minimal session viewer. It needs to become the
primary interface for Wuhu — supporting channels, coding sessions, workspace
docs, and the three-panel navigation pattern.

This is a UI-only issue. It can be developed with dummy data while the
backend features (channels, workspace docs) are built in parallel.

## Tasks

### Three-panel navigation (NavigationSplitView)

- **Left column (sidebar):** Workspace name at top. Fixed navigation items:
  Home, Channels, Sessions, Issues, Docs. Each item shows a count or
  activity indicator.
- **Middle column (list):** Context-dependent list for the selected sidebar
  item. Sessions: sorted by recent activity, grouped (Active, Today, This
  Week, Older), searchable and filterable by tags/env/status. Channels:
  channel list with last message preview. Issues: list or kanban toggle.
  Docs: file list with frontmatter badges.
- **Right column (detail):** The content view — channel chat, coding session
  view, doc viewer, kanban board.

### Session view improvements

- Auto-title: on first user message, fire a cheap LLM call to generate a
  short title. Session starts with a placeholder, title updates when the
  call returns. Titles are editable (click to rename).
- Readable message display: find a middle ground between the current
  too-minimal and too-verbose modes. Assistant text should always be fully
  visible. Tool calls should be collapsible with a summary line.
- Usable text input. Should not feel worse than a web app.
- Session status visible (running, idle, stopped) with appropriate
  indicators.
- Forked sessions: hide entries before the fork point. Show a link back
  to the parent channel.

### Channel view

- Chat interface — message list with user/agent attribution and timestamps.
- Input box at the bottom.
- `session://` links rendered as tappable cards or links that navigate to
  the session in the sessions view.
- Visual distinction between human messages and agent messages.

### Workspace docs view

- Browsable list of workspace docs with frontmatter attributes as badges.
- Filtering on frontmatter fields.
- Issues view: kanban board grouped by status. Clicking a card opens the
  doc detail.
- Doc detail: rendered markdown with frontmatter badges at top.
- Read-only for MVP.

### Home

- Defer detailed design. For MVP, home can be a simple activity feed or
  just redirect to channels.

## Review Checklist

- Use SwiftUI NavigationSplitView. Don't build custom navigation chrome.
- Don't block on backend features. Use dummy data / mock API responses
  where needed.
- No pixel-perfect polish required. Clean, readable, functional.
- Test on macOS. iOS can follow later.

## Success Criteria

- Three-panel navigation works with sidebar, list, and detail columns.
- Can browse sessions, channels, and workspace docs from the sidebar.
- Session messages are readable without switching verbosity modes.
- Sessions have auto-generated titles that are editable.
- Channel chat view shows messages with clear attribution.
- Issues kanban view renders from workspace doc frontmatter.
- App builds and runs on macOS.
