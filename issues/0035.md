---
title: "Use file path to classify workspace docs vs issues in WuhuMVPApp"
status: done
priority: high
---

## Problem

The WuhuMVPApp classifies workspace documents as issues vs docs based solely on whether the frontmatter contains a `status` key. This is too greedy — docs under `~/.wuhu/workspace/docs/` often have `status: draft` to indicate document maturity, causing them to appear as open issues instead of in the Docs section.

The workspace already has a clear directory convention:
- `workspace/issues/*.md` → issues
- Everything else → docs

## Proposed Fix

Change the classification logic in `MockIssue.from(_: WuhuWorkspaceDocSummary)` (or the call site in `AppFeature`) to use the **file path** as the primary signal:

- If the doc's path starts with `issues/`, attempt to parse it as an issue.
- Otherwise, always treat it as a doc.

This affects the splitting loop in `AppFeature.swift`:

```swift
for doc in allDocs {
    if let issue = MockIssue.from(doc) {
        issuesList.append(issue)
    } else {
        docsList.append(MockDoc.from(doc))
    }
}
```

## Acceptance Criteria

- [ ] Workspace docs under `docs/` (e.g. `docs/architecture/contracts-philosophy.md`) appear in the Docs section, not Issues
- [ ] Workspace docs under `issues/` continue to appear as Issues with correct status/priority
- [ ] Both `onAppear` and `refreshTick` code paths use the same classification logic
- [ ] App builds: `xcodebuild build -project WuhuMVPApp/WuhuMVPApp.xcodeproj -scheme WuhuMVPApp -destination 'platform=macOS' -quiet`
