---
title: "MVPApp does not stream message deltas to the UI"
status: done
priority: high
---

## Context

WUHU-0025 (#78) wired streaming deltas through the server-side subscription
hub — the server now broadcasts `text.delta` SSE events between
`message.start` and `message.end` brackets. However, the MVPApp UI does not
consume these deltas. Messages only appear once fully complete, so there is no
incremental "typing" effect.

## Root Cause

Both `SessionFeature.applyEvent` and `AppFeature.applyChannelEvent` had
`case .streamBegan, .streamDelta, .streamEnded: break` — streaming events
were completely ignored. Additionally, `AppFeature.State.channelStreamingText`
existed but was never written to.

## Fix

PR #84: Wire streaming deltas to MVPApp UI.

- SessionFeature: accumulate `streamingText` from delta events, display in
  `SessionThreadView` as a live markdown bubble.
- AppFeature: populate `channelStreamingText` from delta events so
  `ChannelChatView` (which already consumed the prop) receives data.
- Both features restore `inflightStreamText` from initial subscription state
  on (re)connection.

## Tasks

- [x] Investigate current message observation path in MVPApp
- [x] Wire SSE text.delta events into the chat view
- [x] Render incremental deltas as they arrive (streaming text effect)
- [ ] Verify end-to-end: server emits delta → app renders incrementally
