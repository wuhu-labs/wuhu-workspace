---
title: "Tool call arguments truncated at ~40% width for long paths"
status: open
assignee:
priority: medium
---

# WUHU-0039: Tool call arguments truncated at ~40% width for long paths

## Problem

In `ToolCallRow`, the arguments text gets visually truncated at roughly 40% of
the screen width when the value contains a long file path (e.g.
`cd /Users/minsheng/Developer/WuhuLabs/wuhu-swift && sleep 300 && ...`).

Other tool calls with shorter arguments render at full width. The issue appears
to be SwiftUI's `Text` unable to find a good truncation point in a long
path-like string with no spaces.

## Location

- `WuhuApp/Sources/SessionFeature.swift` — `ToolCallRow`, the `Text(toolCall.arguments)` with `.lineLimit(1)`
- `WuhuApp/Sources/APIClient.swift` — `formatArguments()` extracts the `command` key verbatim

## Possible fixes

- Allow the arguments text to wrap (remove `.lineLimit(1)` or increase it)
- Truncate the displayed command from the front (show the tail, which is the
  meaningful part)
- Use a fixed-width font for the arguments so truncation is predictable
- Strip common path prefixes or collapse the `cd ...&&` pattern in display
