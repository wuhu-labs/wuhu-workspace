---
title: Workspace docs
status: done
---

## Context & Intent

Wuhu needs a knowledge base that both humans and agents can access. Rather
than building a database-backed doc system, we use a convention-based
filesystem approach: a `workspace/` folder on the server with markdown files
and YAML frontmatter.

Agents read and write these as regular files. The app provides a rich
read-only view with filtering on frontmatter attributes. Conventions turn
certain paths into structured views (e.g. issues get a kanban).

## Tasks

### Filesystem convention

- `workspace/` at the server's data root is the knowledge base.
- Every `.md` file in the workspace is a document.
- YAML frontmatter provides structured attributes (type, status, assignee,
  priority, tags, or any arbitrary key-value pairs).
- `workspace/issues/` — files here are automatically treated as issues.
  Frontmatter should include at minimum `status` (e.g. open, in-progress,
  done) and optionally `assignee`, `priority`.

### Server/API

- API endpoint to list workspace docs (path, frontmatter attributes).
- API endpoint to read a doc's content.
- Agents access workspace docs via the `read_file` / `write_file` tools
  since they're on the same filesystem. No special API needed for agents.
- Consider an SSE subscription or polling endpoint so the app knows when
  docs change.

### App rendering

- Read-only view in the app. Markdown body rendered with standard styling.
- Frontmatter fields rendered as tags/badges at the top of the doc.
- List view with filtering on frontmatter fields (like Notion database
  filters).
- `workspace/issues/` gets a kanban-style view grouped by `status`.
- Clicking an issue card opens the full doc.

## Review Checklist

- No database for docs. It's a filesystem with conventions.
- Agents don't need special tools to access workspace docs — they use
  existing file tools.
- App view is read-only for MVP. Editing happens through agents or
  direct file manipulation.
- Don't over-index on the Notion comparison. Simple attribute filtering
  and a kanban for issues is enough.

## Success Criteria

- `workspace/issues/foo.md` with appropriate frontmatter shows up in the
  issues kanban view.
- Arbitrary workspace docs are browsable and filterable in the app.
- An agent can create an issue by writing a markdown file to
  `workspace/issues/`.
- `swift build` succeeds, `swift test` passes.
