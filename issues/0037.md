---
title: "Rename WuhuMVPApp to WuhuApp and add iOS support"
status: done
pr: https://github.com/wuhu-labs/wuhu/pull/94
assignee: agent
priority: high
---

# WUHU-0037: Rename WuhuMVPApp to WuhuApp and add iOS support

## Summary

The current `WuhuMVPApp` is the active app and `WuhuApp` is legacy/idle. Rename
`WuhuMVPApp` → `WuhuApp`, preserving the old WuhuApp's bundle identifiers and
app icon, but using the MVPApp's code. Then add iOS support to the unified app.

## Tasks

1. **Delete old `WuhuApp/` directory** — legacy code, no longer needed.
2. **Move `WuhuMVPApp/Sources/*` → `WuhuApp/Sources/*`** — the MVPApp code
   becomes the new WuhuApp.
3. **Create new `WuhuApp/project.yml`** with:
   - macOS target `WuhuAppMac` with bundle ID `ms.liu.wuhu.macos`
   - iOS target `WuhuApp` with bundle ID `ms.liu.wuhu.ios`
   - Preserve the old WuhuApp's app icon (`Assets.xcassets`)
   - Use the MVPApp's dependencies (TCA, MarkdownUI, etc.)
4. **Rename `@main struct WuhuMVPApp` → `@main struct WuhuApp`** in the entry
   point.
5. **Add iOS platform compatibility** — fix any macOS-only APIs
   (`Color(.windowBackgroundColor)`, etc.) with `#if os()` checks.
6. **Update `AGENTS.md`** — remove the dual-app sections, replace with a single
   WuhuApp section.
7. **Update `scripts/build-testflight.sh`** — adjust paths if needed.
8. **Delete `WuhuMVPApp/` directory** after migration.
9. **Ensure CI passes** (`swift test`, `swiftformat --lint`).
