---
title: Support session stop
status: open
---

We need to be able to stop the exeuction of a session, and expose it to both
wuhu client CLI and iOS app.

If the session is already idle, this does nothing.

If it is not idle, you need to

1. Stop the agentic loop in process.
2. Repair any tool calls (see WUHU-0005). Try a different message if needed to
   better reflect the reality.
3. Add a stop message entry. This message should be visible to user "Execution
   stopped", and also AVAILABLE to LLM, so that they know something happened.

I believe right now, the iOS app does not expose whether a session is executing.
Consider exposing that, and infer that status purely from session state. But
cross check that with an in-process execution map. So if we open a session that
is, running from the state wise, but the in-process shows no active execution,
prompt the user, in the app level, that this loop seems dead, should we kill it
(by adding a stop message).

Double check, and test, that a stop message does make the session state
algorithm to recognize it as stopped not running.
